<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.26.1/axios.min.js" integrity="sha512-bPh3uwgU5qEMipS/VOmRqynnMXGGSRv+72H/N260MQeXZIK4PG48401Bsby9Nq5P5fz7hy5UGNmC/W1Z51h2GQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  </head>
  <body>
    <h2>Sign Up Here</h2>

    <form id="signup-form"> 
      <label for="email">Email</label>
      <input name="email" id="email">
      <hr>
      <label for="password">Password</label>
      <input name="password" id="password">
      <hr>
      <button type="submit">Submit</button>
    </form>
    
    <p>Already have an account?<a href="{%url 'signin'%}">Sign in!</a></p>
    
  </body>
  <script>
    console.log('signup?')

    document.getElementById('signup-form').addEventListener('submit', (event)=>{
        event.preventDefault()

        axios.post('/', {
            email: document.getElementById('email').value,
            password: document.getElementById('password').value,
        }).then((response)=>{
          
            // client-side redirect. use javascript to go to the homepage after logging in.
            window.location.href = '/index'
        })
    })
  </script>

</html>